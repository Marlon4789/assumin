{% extends 'recording_emotion/base.html' %}

{% block content %}
  <!-- Título -->
  <div class="row d-flex justify-content-center justify-content-md-start mt-2">
    <div class="col-12 col-md-11 offset-md-1">
      <h1 class="display-6 fs-3 fw-medium text-center text-md-start mt-4">
    Diario de 30 días para conocerte a ti mismo
      </h1>
    </div>
  </div>

  <!-- Tarjetas de recompensa -->
  <div class="row d-flex justify-content-center justify-content-md-start ">
    <div class="col-12 col-md-11 offset-md-1 d-flex gap-2 justify-content-center justify-content-md-start">
      {% with registros.count as total_registros %}
      {% if total_registros >= 13 %}
      <a href="#" class="btn btn-light my-4 d-md-flex align-self-md-center rounded-1">
        <i class="fa fa-trophy fa-2x" style="color: rgb(229, 120, 36);"></i>
          <h5 class="mt-2 px-1">30 días</h5>
      </a>
    {% endif %}
        {% if total_registros >= 14 %}
          <a href="#" class="btn btn-light my-4 d-md-flex align-self-md-center rounded-1">
            <i class="fa fa-trophy fa-2x" style="color: rgb(11, 93, 201);"></i>
              <h5 class="mt-2 px-1">30 días</h5>
          </a>
        {% endif %}

        {% if total_registros >= 90 %}
          <a href="#" class="btn btn-light my-4 d-md-flex align-self-md-center rounded-1">
            <i class="fa fa-trophy fa-2x" style="color: rgb(43, 146, 9);"></i>
              <h5 class="mt-2 px-1">90 días</h5>
          </a>
        {% endif %}
        
      {% endwith %}
    </div>
  </div>

  <!-- Botón para crear un nuevo registro emocional -->
  <div class="row d-flex justify-content-center justify-content-md-start">
    <div class="col-12 col-md-11 offset-md-1 text-center text-md-start">
      <a href="{% url 'registro_nuevo' %}" class="btn btn-dark rounded-1 my-4">
        <i class="fa-solid fa-pen"></i> Nuevo Registro
      </a>
    </div>
  </div>

  <!-- Lista de registros emocionales -->
  {% if registros %}
    <div class="row mb-4">
      <div class="col-12 col-md-11 offset-md-1 gap-2 d-flex flex-wrap justify-content-center justify-content-md-start">
        {% for registro in registros %}
        <div class="text-center bg-dark rounded-1">
          <a href="{% url 'registro_detalle' registro.slug %}" class="btn btn-sm btn-dark" style="width: 5rem;" title="Ver detalles">
          <h2 class="mt-2">{{ forloop.counter }}</h2>
          </a>
        </div>
        {% endfor %}

      </div>
    </div>
  {% else %}
    <div class="row mb-4">
      <div class="col-12">
        <div class="alert alert-info">
          No has creado ningún registro emocional aún. ¡Comienza a registrar tus emociones!
        </div>
      </div>
    </div>
  {% endif %}

{% endblock %}
